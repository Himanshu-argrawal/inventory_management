{% extends "base.html" %}

{% block content %}
{% load static %}

        <div class="container">
	        <div class="col-md-8">
	        <p style="font-size: 1.5em; padding-top: 15px;color: black; font-style:normal;">Customers</p>
	        </div>
	        <div class="col-md-4" style="padding-top: 15px;">
		    <button class="btn-info" style="width: 75px; " >
		    <a style="color: black;" href="{% url 'contacts:add_contact' %}">New +
		    </a> </button>
	        </div>
	        
        </div>
        <table class="table table-striped">
			<thead>
			    <tr>
			        <th style="font-size: 1.2em; color: black;font-style:normal;">Name</th>
					<th style="font-size: 1.2em; color: black;font-style:normal;">Company Name</th>
					<th style="font-size: 1.2em; color: black;font-style:normal;">Email</th>
					<th style="font-size: 1.2em; color: black;font-style:normal;">Phone</th>
					<th style="font-size: 1.2em; color: black;font-style:normal;">Receivables</th>
					<th style="font-size: 1.2em; color: black;font-style:normal;">Payables</th>
	            </tr>
			</thead>
			    <tbody>
			    {% for contact in customer_list|dictsort:"id" %}
			    	<tr style="font-size: 1.2em; color: black;font-style:normal;">

			    		<td ><a href="/contacts/detailed/{{ contact.id }}">{{ contact.fname }}</a></td>
			    		<td>{{ contact.company_name }}</td>
			    		<td>{{ contact.email }}</td>
			    		<td>{{ contact.phone }}</td>
			    		<td><span class="label label-success">COMPLETED</span></td>
			    		<td></td>
			    	</tr>
			    {% endfor %}
			    </tbody>
        </table>
<script src="{% static "assets/js/jquery/jquery-2.1.0.js" %}"></script>
<script>

$('#fetchval').on('click' , function(){
      var value = $(this).val()
      console.log(value);
        $.ajax({
            type: "POST",
            url: "/allcustomers/filter/",
            contentType: "text;",
            dataType: "json",
            data:{
                username: value,
                csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val()
            },
            success: function(data) {
                alert("alert");
            }
        });

    });


</script>
{% endblock %}
